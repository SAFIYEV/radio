<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8" />
<title>AI Radio</title>
<style>
    * { box-sizing: border-box; font-family: Inter, Arial, sans-serif; }
    body { margin: 0; overflow: hidden; background: #0a0a0a; color: #fff; }
    canvas { position: fixed; inset: 0; z-index: -1; }
    .app { padding: 20px; max-width: 420px; }
    h1 { margin: 0 0 15px; font-size: 26px; }
    .buttons { display: flex; gap: 10px; margin-bottom: 15px; }
    button { flex: 1; padding: 12px; border: none; border-radius: 10px; background: #1f1f1f; color: white; cursor: pointer; font-size: 14px; transition: 0.2s; }
    button.active { background: linear-gradient(135deg, #ff4ecd, #7b5cff); }
    button:hover { opacity: 0.85; }
    .controls { display: flex; align-items: center; gap: 10px; margin-bottom: 15px; }
    input[type="range"] { width: 100%; }
    .tabs { display: flex; gap: 10px; margin-bottom: 10px; }
    .tab { cursor: pointer; opacity: 0.6; }
    .tab.active { opacity: 1; font-weight: bold; }
    .panel { display: none; font-size: 14px; line-height: 1.6; }
    .panel.active { display: block; }
    a { color: #7b5cff; text-decoration: none; }
</style>
</head>
<body>

<canvas id="bg"></canvas>

<div class="app">
    <h1>üé∂ AI Radio</h1>

    <div class="buttons">
        <button id="popBtn" class="active">–ü–æ–ø</button>
        <button id="chillBtn">–°–ø–æ–∫–æ–π–Ω–∞—è</button>
    </div>

    <div class="controls">
        <button id="playPause">‚ñ∂</button>
        <input id="volume" type="range" min="0" max="1" step="0.01" value="0.7">
    </div>

    <div class="tabs">
        <div class="tab active" data-tab="radio">–†–∞–¥–∏–æ</div>
        <div class="tab" data-tab="profile">–ü—Ä–æ—Ñ–∏–ª—å</div>
    </div>

    <div id="radio" class="panel active">
        –ü–æ—Ç–æ–∫ –∏–≥—Ä–∞–µ—Ç. –ù–∞—Å–ª–∞–∂–¥–∞–π—Å—è ‚ú®
    </div>

    <div id="profile" class="panel">
        ‚è± –ü—Ä–æ—Å–ª—É—à–∞–Ω–æ: <span id="minutes">0</span> –º–∏–Ω—É—Ç
        <br><br>
        üîó Telegram:
        <br>
        <a href="https://t.me/mindefi" target="_blank">–ú–∏–Ω–∏—Å—Ç—Ä DeFi</a>
        <br>
        <a href="https://t.me/AILumiere_news" target="_blank">AI Lumi√®re</a>
    </div>
</div>

<audio id="audio" crossorigin="anonymous"></audio>

<script>
const audio = document.getElementById("audio");
const playPause = document.getElementById("playPause");
const volume = document.getElementById("volume");

const STREAM_POP_URL = "https://region-ru4.tunio.ai/ooo-radio.aac";
const STREAM_CHILL_URL = "https://stream-156.zeno.fm/0r0xa792kwzuv?zt=eyJhbGciOiJIUzI1NiJ9.eyJzdHJlYW0iOiIwcjB4YTc5Mmt3enV2IiwiaG9zdCI6InN0cmVhbS0xNTYuemVuby5mbSIsInJ0dGwiOjUsImp0dCI6InJhWC1TcGtMUlBLQUpfZjVIUGdrUUEiLCJpYXQiOjE3Njc5NDg0OTksImV4cCI6MTc2Nzk0ODU1OX0.fVoaDssqo6R3UfRgPkXgpfhmNPrVS4SWtdYeJCgV_XM";

let bpm = 128;
audio.volume = volume.value;

playPause.onclick = () => {
    if (audio.paused) {
        audio.play();
        playPause.textContent = "‚è∏";
    } else {
        audio.pause();
        playPause.textContent = "‚ñ∂";
    }
};

volume.oninput = () => audio.volume = volume.value;

document.getElementById("popBtn").onclick = () => {
    setStream(STREAM_POP_URL, 128);
    activate("popBtn");
};

document.getElementById("chillBtn").onclick = () => {
    setStream(STREAM_CHILL_URL, 70);
    activate("chillBtn");
};

function setStream(url, newBpm) {
    bpm = newBpm;
    audio.src = url;
    audio.play();
    playPause.textContent = "‚è∏";
}

function activate(id) {
    document.querySelectorAll(".buttons button").forEach(b => b.classList.remove("active"));
    document.getElementById(id).classList.add("active");
}

// Tabs
document.querySelectorAll(".tab").forEach(tab => {
    tab.onclick = () => {
        document.querySelectorAll(".tab").forEach(t => t.classList.remove("active"));
        document.querySelectorAll(".panel").forEach(p => p.classList.remove("active"));
        tab.classList.add("active");
        document.getElementById(tab.dataset.tab).classList.add("active");
    };
});

// Listen time
let listened = Number(localStorage.getItem("minutes")) || 0;
const minutesEl = document.getElementById("minutes");
minutesEl.textContent = listened;

setInterval(() => {
    if (!audio.paused) {
        listened++;
        localStorage.setItem("minutes", listened);
        minutesEl.textContent = listened;
    }
}, 60000);

// Particles
const canvas = document.getElementById("bg");
const ctx = canvas.getContext("2d");
let w, h;

function resize() {
    w = canvas.width = window.innerWidth;
    h = canvas.height = window.innerHeight;
}
window.onresize = resize;
resize();

const particles = Array.from({ length: 120 }, () => ({
    x: Math.random() * w,
    y: Math.random() * h,
    r: Math.random() * 2 + 1,
    v: Math.random()
}));

function animate() {
    ctx.clearRect(0, 0, w, h);
    const speed = bpm / 100;

    for (const p of particles) {
        p.y -= p.v * speed;
        if (p.y < 0) p.y = h;
        ctx.beginPath();
        ctx.arc(p.x, p.y, p.r, 0, Math.PI * 2);
        ctx.fillStyle = bpm > 100 ? "#ff4ecd" : "#6fd3ff";
        ctx.fill();
    }
    requestAnimationFrame(animate);
}
animate();
</script>

</body>
</html>
